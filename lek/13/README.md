## ЛОГАРИФМИЧЕСКИЙ ПОИСК В ДИНАМИЧЕСКИХ ТАБЛИЦАХ
### 1.1. Деревья бинарного поиска
Для динамических таблиц необходима такая структура данных, которая была бы  приспособлена как к методу бинарного поиска, так и к эффективному выполнению  операций включения и исключения. Такой структурой данных является ДЕРЕВО  БИНАРНОГО ПОИСКА

Связные списки не позволяют использовать прямой доступ (только последовательный доступ)

СИММЕТРИЧНЫЙ (слева-направо) порядок прохождения вершин совпадает с естественным порядком имен

![image](https://github.com/mireashik/aood_3sem/assets/49165758/d0b6d8e1-b114-4fc3-ada3-9ad5121a4453)

Поиск
- z **предшествует** имени в корне (меньше), поиск продолжается рекурсивно в **левом** поддереве
- z **следует** за именем в корне (больше), поиск продолжается рекурсивно в  **правом** поддереве корня

Распечатка z - симметричный проход

Включение z - еслп поиск безуспешен. 

Исключение несколько сложнее включения, поскольку в дереве бинарного поиска исключается внутренний узел, который может:
- быть листом;
- иметь 1 потомка;
- иметь 2 потомков

![image](https://github.com/mireashik/aood_3sem/assets/49165758/eafaf23e-bf80-4338-a1a3-7f7ae3cef432)

![image](https://github.com/mireashik/aood_3sem/assets/49165758/12a96337-b221-40a4-8cc5-03e8d53a69c6)

![image](https://github.com/mireashik/aood_3sem/assets/49165758/a183b0f6-432c-478e-a54f-752b959b3c78)

Требуется найти SAG. При просмотре от корня дерева видно, что по первой букве латинского алфавита название SAG больше названия CAP

![image](https://github.com/mireashik/aood_3sem/assets/49165758/6c958dbe-e348-430a-a7bf-3aba0117bd03)

![image](https://github.com/mireashik/aood_3sem/assets/49165758/5ee9642c-762e-4982-b551-d6e1f339c408)

![image](https://github.com/mireashik/aood_3sem/assets/49165758/c18c91bd-cc4b-4c59-a435-f24ccb7d3fc2)

![image](https://github.com/mireashik/aood_3sem/assets/49165758/41c94704-bcf3-4a3d-8ecc-062af98eb9ea)

![image](https://github.com/mireashik/aood_3sem/assets/49165758/76ad3663-5e27-4741-af43-dda91ee864fe)

![image](https://github.com/mireashik/aood_3sem/assets/49165758/fd001205-1691-4c5a-b250-34726dcc0765)

### АВЛ-деревья

необходимы специальные методы балансировки, гарантирующие логарифмическое время поиска 
<br>
необходимо поддерживать его полностью сбалансированным в любой момент времени, перестроить дерево

![image](https://github.com/mireashik/aood_3sem/assets/49165758/1ea4b8e1-d813-42df-bf14-f1370573d8d7)

К сожалению, такое преобразование обычно меняет все дерево, необходимы такие методы балансировки которые не меняют всё дерево.

Дерево бинарного поиска называется АВЛ-деревом (сбалансированным по высоте), если 2 поддерева корня Tl (левое поддерево) и Tr (правое поддерево) удовлетворяет 3 условиям:
![image](https://github.com/mireashik/aood_3sem/assets/49165758/723aa670-d426-4365-9322-c9028467ad79)

для **каждой** вершины высоты ее ЛЕВОГО и ПРАВОГО поддеревьев отличаются не более чем на ЕДИНИЦУ

![image](https://github.com/mireashik/aood_3sem/assets/49165758/21074270-e9ab-4a59-b865-0fa5184f32a4)

Вершина D отличается высотой слева и справа на 2.

Пожалуй, стоит вспомнить, суть прохождения дерева в симметричном порядке:

![image](https://github.com/mireashik/aood_3sem/assets/49165758/e78206cf-f82d-489f-afdd-7bbb21f2fff1)

![image](https://github.com/mireashik/aood_3sem/assets/49165758/a8ebd15f-98dd-49f3-adf7-7821328936ac)

Операции вращения выполняются за время O(1) и заключаются в изменении нескольких указателей

На рисунке 9 показано двойное вращение (для 2 вершин):

![image](https://github.com/mireashik/aood_3sem/assets/49165758/ece1a624-3540-4572-889e-08e8d81af8f2)

**Баланс** некоторой вершины дерева определяется как разность высот левого и правого поддеревьев

![image](https://github.com/mireashik/aood_3sem/assets/49165758/40da3284-e91d-4369-930f-0dfe5cda3f85)

Добавление вершины (через разные повороты):

![image](https://github.com/mireashik/aood_3sem/assets/49165758/e97053bb-8d1c-4475-9bd0-fb7dccb37362)

Исключение вершины:

![image](https://github.com/mireashik/aood_3sem/assets/49165758/ed30a70b-aa72-4e7e-bf86-1360ed3744da)

## КРАСНО-ЧЁРНЫЕ ДЕРЕВЬЯ
В красно-чёрных деревьях специальные операции балансировки гарантируют, что высота дерева не превзойдет O(logN)

Для удобства считается, что красно-чёрное дерево является расширенным бинарным деревом

1) КАЖДАЯ вершина (узел) – либо красная, либо черная.
2) КАЖДЫЙ лист (внешняя вершина) или NULL-узел – черный.
3) ЕСЛИ вершина красная, оба ее сына черные;
4) ВСЕ пути, идущие от корня к листьям, содержат одинаковое количество черных вершин.
5) КОРЕНЬ ‒ чёрный.

![image](https://github.com/mireashik/aood_3sem/assets/49165758/8629af50-560c-4836-a253-8fe0a9142174)

Черная высота дерева определяется черной высотой его корня

для восстановления RB-свойств необходимо перекрасить некоторые вершины, а также изменить структуру самого дерева

**Включение вершины**

- Новая вершина окрашивается КРАСНЫМ цветом
- из корня в лист проходится в ОБРАТНОМ направлении
- - Если родитель черный - то ничего не меняется
  - Если родитель красный - зависят от НАПРАВЛЕНИЯ движения (от левого или правого потомка) и ЦВЕТА брата родителя (дяди) новой вершины.
 
![image](https://github.com/mireashik/aood_3sem/assets/49165758/3b973825-fc5d-40f3-a454-c4a6393775f1)

![image](https://github.com/mireashik/aood_3sem/assets/49165758/2670de3b-af1d-405f-8084-a9cab282d456)

**Исключение вершины**

нарушение красно-чёрных свойств может вызвать только исключение ЧЕРНОЙ вершины

![image](https://github.com/mireashik/aood_3sem/assets/49165758/a5762ae5-be7c-4800-84be-1d83885adf44)
